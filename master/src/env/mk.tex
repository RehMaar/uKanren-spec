В данной работе для специализации был выбран \ukanren --- минималистичный диалект языка miniKanren\cite{uKanren}.
\ukanren содержит только чистые операторы, что заначительно упрощает процесс специализации.

Абстрактный cинтаксис языка представлен на Рисунке~\ref{fig:syntax}.

\begin{figure}[h!]
\centering
\[\begin{array}{ccll}
  \mathcal{C}   & = & \{C_i\}                                                   &\mbox{конструктор с арностью}\ i \\
  \mathcal{X}   & = & \{ x, y, z, \dots \}                                      &\mbox{переменные} \\
  \mathcal{T}_X & = & X \cup \{C_i (t_1, \dots, t_i) \mid t_j\in\mathcal{T}_X\} &\mbox{термы над множеством переменных $X$} \\
  \mathcal{D}   & = & \mathcal{T}_\emptyset                                     &\mbox{замкнутое выражение}\\
  \mathcal{R}   & = & \{ R_i\}                                                  &\mbox{реляционный символ с арностью}\ i \\[2mm]
  \mathcal{G}   & = & \mathcal{T_X}\equiv\mathcal{T_X}                          &\mbox{унификация} \\
                &   & \mathcal{G}\land\mathcal{G}                               &\mbox{конъюнкция} \\
                &   & \mathcal{G}\lor\mathcal{G}                                &\mbox{дизъюнкция} \\
                &   & \mbox{\lstinline|fresh|}\;\mathcal{X}\;.\;\mathcal{G}     &\mbox{введение свежей переменной} \\
                &   & R_i (t_1,\dots,t_i),\;t_j\in\mathcal{T_X}                 &\mbox{вызов реляционного отношения} \\[2mm]
  \mathcal{S}   & = & \{R_i^j = \lambda\;x_1\dots x_i\,.\, g_j;\}\; g           &\mbox{спецификация программы}
\end{array}\]
\caption{Синтаксис языка \ukanren\cite{semanticMK}.}
\label{fig:syntax}
\end{figure}

\begin{itemize}
\item Унификация двух термов $t_1 \equiv t_2$ порождает подстановку $\theta$, называемую \emph{унификатором},
      такую что её применение к термам уравнивает их: $t_1 \theta = t_2 \theta$.

      Алгоритм унификации языков семейства miniKanren использует проверку вхождения \origin{occurs check},
      что гарантирует корректность получаемых унификаторов, однако довольно сильно замедляет выполнение программ.

\item Конъюнкция двух целей $g_1 \land g_2$ подразумевает одновременное успешное выполнение выражений $g_1$ и $g_2$.
\item Дизъюнкция двух целей $g_1 \lor g_2$ подразумевает, что достаточно, чтобы хотя бы одно из выражений $g_1$ или $g_2$ выполнялось успешно.
      Следует отметить, что при выполнении $g_1$ выражение $g_2$ также будет вычисляться.
\item Введение свежей переменной $\text{fresh}\ x\ .\ g$ в языках miniKanren нужно указывать явно, в отличие, к примеру,
      от Prolog, где это происходит неявно.
\item Вызов реляционного отношения приводит к тому, что переданные в отношение термы
      унифицируются со аргументами отношения и подставляются в тело отношения. 
\end{itemize}

В контексте вычислений важно различие между \emph{синтаксическими} переменными, которые
определяются в тексте программы и обычно представляются строковыми литералами, и
\emph{семантическими} переменными, которые непосредственно используются в процессе вычислений и
представляются целыми числами, с которыми легче работать и генерировать свежие.

\ukanren является ядром языка miniKanren и может быть без труда расширен необходимыми
конструкциями.
